<div class="container mt-3">
  <div class="row">
    <div class="col-9">
      <!-- Search Bar -->
      <div class="col-md-12 mb-3">
        <form class="d-flex" action="/users/search" method="get">
          <input class="form-control" type="search" name="keyword" placeholder="Search" aria-label="Search">
        </form>
      </div>

      <!-- Tutor List -->
      <div class="col-md-12 col-12 mx-auto">
        <div class="row">
          {{#each tutors}}
          <div class="col-sm-4">
            <a href="/users/tutors/{{this.id}}" class="card mb-3" style="text-decoration: none;">
              <div class="card-body row">
                <div class="col-4">
                  <img src="{{this.image}}" class="card-img-top" alt="...">
                </div>
                <div class="col-8">
                  <strong>{{this.name}}</strong>
                </div>
              </div>
              <div class="card-body">
                <p class="card-text">{{this.introduction}}</p>
              </div>
            </a>
          </div>
          {{/each}}
        </div>
      </div>
    </div>
    {{!-- ranking list --}}
    <div class="col-3">
      <div class="h-100 border border-3 rounded-3">
        <p class="fw-bold text-center m-2 pt-2">學習時數排行</p>
        {{#each users}}
        <div class="d-flex
        align-items-center m-3">
          <div class="col-2">
            <img src="{{this.image}}" class="rounded-circle float-start" style="width: 100%; height: auto;"
              alt="userImage">
          </div>
          <div class="fw-bold mx-2">No.{{increment @index}}</div>
          <div class="fw-bold text-break">{{this.name}}</div>
        </div>
        {{/each}}
      </div>
    </div>
  </div>

  {{!-- pagination --}}
  <div class="mt-3 d-flex justify-content-center">
    <nav aria-label="Page navigation">
      <ul class="pagination">
        <li class="page-item">
          <a class="page-link {{#ifEqual pagination.currentPage 1}} disabled {{/ifEqual}}"
            href="/users/tutors?page={{pagination.prev}}" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        {{#each pagination.pages}}
        {{#ifEqual this ../pagination.currentPage}}
        <li class="page-item active"><a class="page-link" href="#">{{this}}</a></li>
        {{else}}
        <li class="page-item"><a class="page-link" href="/users/tutors?page={{this}}">{{this}}</a></li>
        {{/ifEqual}}
        {{/each}}
        <li class="page-item">
          <a class="page-link {{#ifEqual pagination.currentPage pagination.totalPage}} disabled {{/ifEqual}}"
            href="/users/tutors?page={{pagination.next}}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</div>